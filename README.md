# Geist Agent

Geist Agent is a custom AI agent built on the [CrewAI](https://github.com/crewAI/crewAI) framework, leveraging [Typer](https://typer.tiangolo.com/) to deliver a streamlined CLI (`poltergeist`). It offers tools for codebase analysis, self-diagnostics & research.

---

## Table of Contents
- [Installation](#installation)
- [Configuration](#configuration)
- [CLI Commands](#cli-commands)
- [Reports](#reports)

---

## Installation

1. **Fork the Repository**:
   Go to the original repository on GitHub and click the "Fork" button to create your own copy.

2. **Clone the Repository**:
   ```bash
   git clone https://github.com/<your-username>/geist-agent.git
   cd geist-agent
   ```
   *Replace `<your-username>` with your GitHub username or the correct repository URL.*

3. **Install uv**:
   If you haven't already, install [uv](https://github.com/astral-sh/uv) to manage dependencies:
   ```bash
   pip install uv
   ```

4. **Install Dependencies**:
   Use `uv` or `pip` to install the package. For development, install in editable mode:
   ```bash
   uv pip install -e .
   ```
   Alternatively, with pip:
   ```bash
   pip install -e .
   ```

5. **Verify Installation**:
   Run the diagnostics command to ensure everything is set up correctly:
   ```bash
   poltergeist doctor
   ```
   *Connecting to your LLM will fail until you complete configuration*

---

## Configuration

1. **Run the Doctor Command**:
   Run the following command to auto-generate the `.geist` directory and `.env` file in the appropriate location for your operating system. This will include placments for your API keys and extra setting controls for the commands:
   ```bash
   poltergeist doctor
   ```
   - **Windows**: `C:\Users\<your-username>\.geist\.env`
   - **Linux/macOS**: `~/.geist/.env`

2. **Add API Keys**:
   Edit the generated `.env` file and add your API keys & configuration. Example:
   ```plaintext
   OPENAI_API_KEY=sk-xxxx
   MODEL=gpt-4o-mini
   API_BASE=https://api.openai.com
   ```

---

## CLI Commands

The `poltergeist` CLI provides a range of commands for research, analysis, & diagnostics. Run the following to see all available commands:
```bash
poltergeist --help
```

### Key Commands
- **Analyze a Codebase**:
  Summarize files & generate a dependency map for a codebase:
  ```bash
  poltergeist unveil --path .
  ```
  
- **Research a Topic**:
  Generate a Markdown report on a specified topic:
  ```bash
  poltergeist scry --topic "Your Topic"
  ```

- **Run Diagnostics**:
  Check your environment, Ollama setup, & reports directory:
  ```bash
  poltergeist doctor
  ```

- **Generate Security Report**:
  Write a security report using OSV (or their API if not installed):
  ```bash
  poltergeist ward --path .
  ```

- **Index a Project**:
  Index a project & use BM25 to find tokens so the LLM can answer questions about the codebase:
  ```bash
  poltergeist seance --path .
  ```

---

## Reports

All reports generated by Geist Agent are saved in a dedicated directory for easy access:
- **Windows**: `C:\Users\<your-username>\.geist\reports\`
- **Linux/macOS**: `~/.geist/reports/`

Reports are saved in Markdown format & include research summaries, codebase analyses, or diagnostic outputs, depending on the command used.